---
title: Integración de estimaciones y datos reales de proyectos
description: Este tema proporciona información sobre la integración de doble escritura de Project Operations para estimaciones y datos reales de proyectos.
author: sigitac
manager: Annbe
ms.date: 4/26/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: sigitac
ms.openlocfilehash: 88df3385fac0a78a827d65a77d3b04c9d6499536
ms.sourcegitcommit: 02f00960198cc78a5e96955a9e4390c2c6393bbf
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2021
ms.locfileid: "5955840"
---
# <a name="project-estimates-and-actuals-integration"></a><span data-ttu-id="9aeda-103">Integración de estimaciones y datos reales de proyectos</span><span class="sxs-lookup"><span data-stu-id="9aeda-103">Project estimates and actuals integration</span></span>

<span data-ttu-id="9aeda-104">_**Se aplica a:** Project Operations para escenarios basados en recursos/no en existencias_</span><span class="sxs-lookup"><span data-stu-id="9aeda-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="9aeda-105">Este tema proporciona información sobre la integración de doble escritura de Project Operations para estimaciones y datos reales de proyectos.</span><span class="sxs-lookup"><span data-stu-id="9aeda-105">This topic provides information about Project Operations dual-write integration for project estimates and actuals.</span></span>

## <a name="project-estimates"></a><span data-ttu-id="9aeda-106">Estimaciones de proyecto</span><span class="sxs-lookup"><span data-stu-id="9aeda-106">Project estimates</span></span>

<span data-ttu-id="9aeda-107">Las estimaciones de mano de obra, gastos y materiales del proyecto se crean y mantienen en Microsoft Dataverse y se sincronizan con aplicaciones de Finance and Operations con fines contables.</span><span class="sxs-lookup"><span data-stu-id="9aeda-107">Project labor, expense, and material estimates are created and maintained in Microsoft Dataverse and synchronized to Finance and Operations apps for accounting purposes.</span></span> <span data-ttu-id="9aeda-108">Las operaciones de creación, actualización y eliminación no se admiten a través de las aplicaciones de Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="9aeda-108">Create, update, and delete operations aren't supported through the Finance and Operations apps.</span></span>

<span data-ttu-id="9aeda-109">La creación de estimaciones requiere una configuración de contabilidad válida para el proyecto.</span><span class="sxs-lookup"><span data-stu-id="9aeda-109">Creating estimates requires a valid accounting configuration for the project.</span></span> <span data-ttu-id="9aeda-110">Los proyectos que están asociados con líneas de contrato deben tener un perfil de ingresos y costos de proyecto válido definido en las reglas de perfil de costos e ingresos del proyecto.</span><span class="sxs-lookup"><span data-stu-id="9aeda-110">Projects that are associated with contract lines must have a valid project cost and revenue profile defined in the Project cost and revenue profile rules.</span></span> <span data-ttu-id="9aeda-111">Para más información, vea [Configurar contabilidad para proyectos facturables](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span><span class="sxs-lookup"><span data-stu-id="9aeda-111">For more information, see [Configure accounting for billable projects](../project-accounting/configure-accounting-billable-projects.md#configure-project-cost-and-revenue-profile-rules).</span></span>

## <a name="labor-estimates"></a><span data-ttu-id="9aeda-112">Estimaciones de mano de obra</span><span class="sxs-lookup"><span data-stu-id="9aeda-112">Labor estimates</span></span>

<span data-ttu-id="9aeda-113">Las estimaciones de mano de obra son creadas por el Jefe de proyecto o el Administrador de recursos, quien también asigna un recurso genérico o con nombre a la tarea del proyecto.</span><span class="sxs-lookup"><span data-stu-id="9aeda-113">Labor estimates are created by the Project Manager or Resource manager who also assigns a generic or named resource to the project task.</span></span> <span data-ttu-id="9aeda-114">Los registros de asignación de recursos se pueden revisar en la pestaña **Asignaciones de recursos** de la página **Detalles del proyecto** en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-114">Resource assignment records can be reviewed on the **Resource Assignments** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="9aeda-115">Los registros de asignación de recursos en Dataverse crean registros de previsión de horas en las aplicaciones de Finance and Operations que usan **Entidad de integración de Project Operations para estimaciones de horas (\_resourceassignments)**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-115">Resource assignment records in Dataverse create hour forecast records in Finance and Operations apps using **Project Operations integration entity for hour estimates (msdyn\_resourceassignments)**.</span></span>

   ![Integración de estimaciones de mano de obra](./Media/DW4LaborEstimates.png)

<span data-ttu-id="9aeda-117">La doble escritura sincroniza registros de asignación de recursos con la tabla de preparación (**ProjCDSEstimateHoursImport**) y luego utiliza la lógica de negocios para crear y actualizar registros de previsión de horas (**ProjForecastEmpl**).</span><span class="sxs-lookup"><span data-stu-id="9aeda-117">Dual-write synchronizes resource assignment records to the staging table (**ProjCDSEstimateHoursImport**), and then uses business logic to create and update hour forecast records (**ProjForecastEmpl**).</span></span>

<span data-ttu-id="9aeda-118">El contable del proyecto revisa registros de horas de previsión creados en aplicaciones de Finance and Operations yendo a **Administración y contabilidad de proyectos** > **Todos los proyectos** > **Plan** > **Previsiones de horas**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-118">The Project accountant reviews forecast hour records created in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Hour forecasts**.</span></span>

## <a name="expense-estimates"></a><span data-ttu-id="9aeda-119">Estimaciones de gastos</span><span class="sxs-lookup"><span data-stu-id="9aeda-119">Expense estimates</span></span>

<span data-ttu-id="9aeda-120">Las estimaciones de gastos son creadas por el administrador del proyecto en la pestaña **Estimaciones de gastos** de la página **Detalles del proyecto** en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-120">Expense estimates are created by the Project manager on the **Expense Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="9aeda-121">Los registros de estimaciones de gastos se almacenan en la entidad **Línea de estimación** en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-121">Expense estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="9aeda-122">Estos registros de estimación tienen clase de transacción, **Gastos** y se sincronizan con los registros de previsión de gastos en aplicaciones de Finance and Operations que usan **Entidad de integración de Project Operations para estimaciones de gastos (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-122">These estimate records have transaction class, **Expense** and are synchronized to expense forecast records in Finance and Operations apps using **Project Operations integration entity for expense estimates (msdyn\_estimatelines)**.</span></span>

   ![Integración de estimaciones de gastos](./Media/DW4ExpenseEstimates.png)

<span data-ttu-id="9aeda-124">La doble escritura sincroniza registros de estimación de gastos con la tabla de preparación, **ProjCDSEstimateExpenseImport)**, y luego utiliza la lógica de negocios para crear y actualizar registros de previsión de gastos (**ProjForecastCost**).</span><span class="sxs-lookup"><span data-stu-id="9aeda-124">Dual-write synchronizes expense estimate records to the staging table, **ProjCDSEstimateExpenseImport)** and then uses business logic to create and update expense forecast records (**ProjForecastCost**).</span></span> <span data-ttu-id="9aeda-125">Las líneas de estimación almacenan los registros de estimación de ventas y estimación de costos por separado.</span><span class="sxs-lookup"><span data-stu-id="9aeda-125">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="9aeda-126">La lógica de negocio de las aplicaciones de Finance and Operations rellena un solo registro de previsión de gastos utilizando este detalle en la tabla de preparación.</span><span class="sxs-lookup"><span data-stu-id="9aeda-126">The business logic in Finance and Operations apps populates a single Expense forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="9aeda-127">El contable del proyecto puede revisar los registros de previsión de gastos en aplicaciones de Finance and Operations yendo a **Administración y contabilidad de proyectos** > **Todos los proyectos** > **Plan** > **Previsiones de gastos**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-127">The Project accountant can review expense forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Expense forecasts**.</span></span>

## <a name="material-estimates"></a><span data-ttu-id="9aeda-128">Estimaciones de materiales</span><span class="sxs-lookup"><span data-stu-id="9aeda-128">Material estimates</span></span>

<span data-ttu-id="9aeda-129">Las estimaciones de materiales son creadas por el administrador del proyecto en la pestaña **Estimaciones de materiales** de la página **Detalles del proyecto** en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-129">Material estimates are created by the Project manager on the **Material Estimates** tab on the **Project Details** page in Dataverse.</span></span> <span data-ttu-id="9aeda-130">Los registros de estimaciones de materiales se almacenan en la entidad **Línea de estimación** en Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-130">Material estimate records are stored in the **Estimate Line** entity in Dataverse.</span></span> <span data-ttu-id="9aeda-131">Estos registros de estimación tienen clase de transacción, **Material** y se sincronizan con los registros de previsión de artículos en aplicaciones de Finance and Operations que usan **Tabla de integración del proyecto para estimaciones de materiales (msdyn\_estimatelines)**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-131">These estimate records have the transaction class, **Material** and are synchronized to item forecast records in Finance and Operations apps using **Project integration table for material estimates (msdyn\_estimatelines)**.</span></span>

   ![Integración de estimaciones de materiales](./Media/DW4MaterialEstimates.png)

<span data-ttu-id="9aeda-133">La doble escritura sincroniza registros de estimación de materiales con la tabla de preparación, **ProjForecastSalesImpor**, y luego utiliza la lógica de negocios para crear y actualizar registros de previsión de artículos (**ForecastSales**).</span><span class="sxs-lookup"><span data-stu-id="9aeda-133">Dual-write synchronizes material estimate records to the staging table **ProjForecastSalesImpor**, and then uses business logic to create and update item forecast records (**ForecastSales**).</span></span> <span data-ttu-id="9aeda-134">Las líneas de estimación almacenan los registros de estimación de ventas y estimación de costos por separado.</span><span class="sxs-lookup"><span data-stu-id="9aeda-134">Estimate lines store sales estimate and cost estimate records separately.</span></span> <span data-ttu-id="9aeda-135">La lógica de negocio de las aplicaciones de Finance and Operations rellena un solo registro de previsión de artículos utilizando este detalle en la tabla de preparación.</span><span class="sxs-lookup"><span data-stu-id="9aeda-135">The business logic in Finance and Operations apps populates a single Item forecast record using this detail in the staging table.</span></span>

<span data-ttu-id="9aeda-136">El contable del proyecto puede revisar los registros de previsión de artículos en aplicaciones de Finance and Operations yendo a **Administración y contabilidad de proyectos** > **Todos los proyectos** > **Plan** > **Previsiones de artículos**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-136">The Project accountant can review item forecast records in Finance and Operations apps by going to **Project management and accounting** > **All projects** > **Plan** > **Item forecasts**.</span></span>

## <a name="project-actuals"></a><span data-ttu-id="9aeda-137">Datos reales del proyecto</span><span class="sxs-lookup"><span data-stu-id="9aeda-137">Project actuals</span></span>

<span data-ttu-id="9aeda-138">Los datos reales del proyecto se crean en Dataverse, según el tiempo, los gastos, el material y la actividad de facturación.</span><span class="sxs-lookup"><span data-stu-id="9aeda-138">Project actuals are created in Dataverse, based on time, expense, material, and billing activity.</span></span> <span data-ttu-id="9aeda-139">Todos los atributos operativos de estas transacciones, incluida la cantidad, el precio de coste, el precio de venta y el proyecto, se capturan en esta entidad Dataverse.</span><span class="sxs-lookup"><span data-stu-id="9aeda-139">All operational attributes of these transactions including quantity, cost price, sales price, and project are captured in this Dataverse entity.</span></span> <span data-ttu-id="9aeda-140">Para obtener más información, consulte [Datos reales](../actuals/actuals-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9aeda-140">For more information, see [Actuals](../actuals/actuals-overview.md).</span></span> <span data-ttu-id="9aeda-141">Los registros reales se sincronizan con aplicaciones de Finance and Operations que utilizan la asignación de tabla de doble escritura **Datos reales de integración de Project Operations (msdyn\_actuals)** para contabilidad descendente.</span><span class="sxs-lookup"><span data-stu-id="9aeda-141">Actual records are synchronized to Finance and Operations apps using the dual-write table map **Project Operations integration actuals (msdyn\_actuals)** for downstream accounting.</span></span>

   ![Integración de datos reales](./Media/DW4Actuals.png)

<span data-ttu-id="9aeda-143">La asignación de tabla **Datos reales de integración de Project Operations** sincroniza todos los registros de la entidad **Datos reales** en Dataverse, con el atributo **Omitir sincronización (solo para uso interno)** establecido como **False**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-143">The **Project Operations integration actuals** table map synchronizes all the records from the **Actuals** entity in Dataverse, with the attribute **Skip Sync (internal use only)** set to **False**.</span></span> <span data-ttu-id="9aeda-144">Este valor de atributo se establece en Dataverse automáticamente cuando se crea el registro.</span><span class="sxs-lookup"><span data-stu-id="9aeda-144">This attribute value is set in Dataverse automatically when the record is created.</span></span> <span data-ttu-id="9aeda-145">Ejemplos en los que este atributo se establece como **True** son:</span><span class="sxs-lookup"><span data-stu-id="9aeda-145">Examples where this attribute is set to **True** are:</span></span>

  - <span data-ttu-id="9aeda-146">Datos reales de costes del proyecto para transacciones de empresas vinculadas.</span><span class="sxs-lookup"><span data-stu-id="9aeda-146">Project cost actuals for intercompany transactions.</span></span> <span data-ttu-id="9aeda-147">Para obtener más información, consulte [Crear transacciones de empresas vinculadas](../project-accounting/create-intercompany-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="9aeda-147">For more information, see [Create intercompany transactions](../project-accounting/create-intercompany-transactions.md).</span></span> <span data-ttu-id="9aeda-148">Estos registros se omiten porque el sistema recrea el coste real del proyecto en aplicaciones de Finance and Operations cuando se registra la factura del proveedor de empresas vinculadas.</span><span class="sxs-lookup"><span data-stu-id="9aeda-148">These records are skipped because the system recreates the project cost actual in Finance and Operations apps when the intercompany vendor invoice is posted.</span></span>
  - <span data-ttu-id="9aeda-149">Se crean registros negativos de ventas no facturadas cuando se confirma la factura proforma.</span><span class="sxs-lookup"><span data-stu-id="9aeda-149">Negative unbilled sales records created when the proforma invoice is confirmed.</span></span> <span data-ttu-id="9aeda-150">Estos registros se omiten porque la subcontabilidad del proyecto en apps de Finance and Operations no revierte el registro de ventas no facturadas al momento de la facturación, pero cambia el estado a totalmente facturado.</span><span class="sxs-lookup"><span data-stu-id="9aeda-150">These records are skipped because the project subledger in Finance and Operations apps doesn't reverse the unbilled sales record at invoicing but changes the status to fully invoiced.</span></span>

<span data-ttu-id="9aeda-151">La asignación de tabla de doble escritura sincroniza los registros de datos reales con la tabla de preparación, **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-151">The dual-write table map synchronizes the actuals records to the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="9aeda-152">Estos registros son procesados por el proceso periódico **Importar desde la tabla de preparación** al crear líneas de diario de integración de Project Operations y líneas de propuesta de factura de proyecto.</span><span class="sxs-lookup"><span data-stu-id="9aeda-152">These records are processed by the periodic process **Import from staging table** when creating Project Operations integration journal lines and project invoice proposal lines.</span></span> <span data-ttu-id="9aeda-153">Para más información, vea [Diario de integración en Project Operations](../project-accounting/project-operations-integration-journal.md).</span><span class="sxs-lookup"><span data-stu-id="9aeda-153">For more information, see [Integration journal in Project Operations](../project-accounting/project-operations-integration-journal.md).</span></span>

<span data-ttu-id="9aeda-154">Dataverse también captura los vínculos entre las transacciones reales del proyecto en la entidad **Conexión de transacciones**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-154">Dataverse also captures the links between the project actual transactions in the **Transaction connection** entity.</span></span> <span data-ttu-id="9aeda-155">Para más información, vea [Vincular datos reales con registros originales](../actuals/linkingactuals.md).</span><span class="sxs-lookup"><span data-stu-id="9aeda-155">For more information, see [Link actuals to original records](../actuals/linkingactuals.md).</span></span> <span data-ttu-id="9aeda-156">Los enlaces entre transacciones reales también se sincronizan con aplicaciones de Finance and Operations que utilizan la asignación de tabla de doble escritura, **Entidad de integración para relaciones de transacción del proyecto (msdyn\_transactionconnections)**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-156">Links between actual transactions are also synchronized to Finance and Operations apps using the dual-write table map, **Integration entity for project transaction relationships (msdyn\_transactionconnections)**.</span></span> <span data-ttu-id="9aeda-157">Estos registros son utilizados por el proceso periódico **Importar desde la tabla de preparación** al crear líneas de diario de integración de Project Operations y líneas de propuesta de factura de proyecto.</span><span class="sxs-lookup"><span data-stu-id="9aeda-157">These records are used by the periodic process, **Import from staging table** when creating Project Operations integration journal lines and Project invoice proposal lines.</span></span>

<span data-ttu-id="9aeda-158">El registro de un diario de integración de Project Operations y una propuesta de factura de proyecto desencadena una actualización en los registros respectivos en la tabla de preparación, **ProjCDSActualsImport**.</span><span class="sxs-lookup"><span data-stu-id="9aeda-158">Posting a Project Operations integration journal and a project invoice proposal triggers an update in respective records in the staging table, **ProjCDSActualsImport**.</span></span> <span data-ttu-id="9aeda-159">El sistema captura y registra los siguientes atributos contables para transacciones reales:</span><span class="sxs-lookup"><span data-stu-id="9aeda-159">The system captures and records the following accounting attributes for actuals transactions:</span></span>

- <span data-ttu-id="9aeda-160">Importe de divisa de contabilidad</span><span class="sxs-lookup"><span data-stu-id="9aeda-160">Accounting currency amount</span></span>
- <span data-ttu-id="9aeda-161">Tipo de cambio</span><span class="sxs-lookup"><span data-stu-id="9aeda-161">Exchange rate</span></span>
- <span data-ttu-id="9aeda-162">Número de asiento</span><span class="sxs-lookup"><span data-stu-id="9aeda-162">Voucher number</span></span>
- <span data-ttu-id="9aeda-163">Importe del impuesto sobre las ventas</span><span class="sxs-lookup"><span data-stu-id="9aeda-163">Sales tax amount</span></span>

<span data-ttu-id="9aeda-164">La asignación de tabla **Datos reales de integración de Project Operations** actualiza los respectivos registros de datos reales en Dataverse con esta información.</span><span class="sxs-lookup"><span data-stu-id="9aeda-164">The **Project Operations integration actuals** table map updates respective actuals records in Dataverse with this information.</span></span>
