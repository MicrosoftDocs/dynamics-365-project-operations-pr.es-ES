---
title: 'Consideraciones de actualización: De la versión 2.x o 1.x a la versión 3.x de Microsoft Dynamics 365 Project Service Automation'
description: En este tema se proporciona información sobre las consideraciones que debe tomar cuando actualiza de la versión 2.xo 1.x a la versión 3 de Project Service Automation.
manager: kfend
ms.service: business-applications
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
ms.prod: ''
ms.technology: Dynamics 365 Project Service Automation 3.x
author: JohnPBurrows
ms.assetid: e4fae2ea-9013-488e-a666-f7192dd42c0b
ms.author: john.burrows
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
ms.openlocfilehash: ba710eb8c07df7dac97e8b911184c00b87b14548
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 03/24/2020
ms.locfileid: "3756040"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="a4a71-103">Consideraciones de actualización: De la versión 2.x o 1.x a la versión 3.x</span><span class="sxs-lookup"><span data-stu-id="a4a71-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="a4a71-104">Project Service Automation y Field Service</span><span class="sxs-lookup"><span data-stu-id="a4a71-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="a4a71-105">Tanto Dynamics 365 Project Service Automation como Dynamics 365 Field Service usan la solución Universal Resourcing Scheduling (URS) para la programación de recursos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="a4a71-106">Si tiene tanto Project Service Automation como Field Service en su instancia, debe planear la actualización de ambas soluciones a la última versión (versión 3.x para Project Service Automation, versión 8.x para Field Service).</span><span class="sxs-lookup"><span data-stu-id="a4a71-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="a4a71-107">La actualización de Project Service Automation o Field Service instalará la última versión de URS, lo que significa que es posible un comportamiento incoherente si no se actualizan las soluciones Project Service Automation y Field Service en la misma instancia a la última versión.</span><span class="sxs-lookup"><span data-stu-id="a4a71-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="a4a71-108">Asignaciones de recursos</span><span class="sxs-lookup"><span data-stu-id="a4a71-108">Resource assignments</span></span>
<span data-ttu-id="a4a71-109">En las versiones 2 y 1 de Project Service Automation, las asignaciones de tareas se almacenaron como tareas secundarias (también llamadas tareas de línea) en la entidad **Entidad de tarea** e indirectamente relacionadas con la entidad **Asignación de recursos**.</span><span class="sxs-lookup"><span data-stu-id="a4a71-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity**, and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="a4a71-110">La tarea de línea era visible en la ventana emergente de asignación en la estructura de descomposición del trabajo (WBS).</span><span class="sxs-lookup"><span data-stu-id="a4a71-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Tareas de línea en la WBS en Project Service Automation versión 2 y versión 1](media/upgrade-line-task-01.png)

<span data-ttu-id="a4a71-112">En la versión 3 de Project Service Automation, ha cambiado el esquema subyacente de asignación de recursos reservables a tareas.</span><span class="sxs-lookup"><span data-stu-id="a4a71-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="a4a71-113">. La tarea de línea ha quedado en desuso y existe una relación directa 1:1 entre la tarea en la entidad **Tarea** y el miembro del equipo en la entidad **Asignación de recursos**.</span><span class="sxs-lookup"><span data-stu-id="a4a71-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="a4a71-114">Las tareas que se asignan a un miembro del equipo del proyecto ahora se almacenan directamente en la entidad Asignación de recursos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="a4a71-115">Estos cambios afectan la actualización de cualquier proyecto existente que tenga asignaciones de recursos para recursos que se pueden reservar con nombre y recursos genéricos en un equipo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="a4a71-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="a4a71-116">Este tema proporciona las consideraciones que deberá tener en cuenta para sus proyectos cuando actualice a la versión 3.</span><span class="sxs-lookup"><span data-stu-id="a4a71-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="a4a71-117">Tareas asignadas a recursos con nombre</span><span class="sxs-lookup"><span data-stu-id="a4a71-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="a4a71-118">Mediante la entidad de tarea subyacente, las tareas en la versión 2 y la versión 1 permitían a los miembros del equipo representar un rol distinta del definido de forma predeterminada.</span><span class="sxs-lookup"><span data-stu-id="a4a71-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="a4a71-119">Por ejemplo, Eva Martínez, que de forma predeterminada tiene asignada el rol de Administrador de programas, podría asignarse a una tarea con el rol de Desarrollador.</span><span class="sxs-lookup"><span data-stu-id="a4a71-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="a4a71-120">En la versión 3, el rol de un miembro del equipo con nombre es siempre el predeterminado, por lo que cualquier tarea a la que se le asigne Eva Martínez utilizará su rol predeterminado de Administrador de programas.</span><span class="sxs-lookup"><span data-stu-id="a4a71-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="a4a71-121">Si ha asignado un recurso a una tarea fuera de su rol predeterminado en la versión 2 y la versión 1, cuando actualice, el recurso con nombre tendrá asignado el rol predeterminado para todas las asignaciones de tareas, independientemente de la asignación de roles en la versión 2.</span><span class="sxs-lookup"><span data-stu-id="a4a71-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="a4a71-122">Esto generará diferencias en las estimaciones calculadas de la versión 2 o la versión 1 a la versión 3 porque las estimaciones se calculan en función del rol del recurso y no de la asignación de tareas de línea.</span><span class="sxs-lookup"><span data-stu-id="a4a71-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="a4a71-123">Por ejemplo, en la versión 2, se han asignado dos tareas a Carmen Linares.</span><span class="sxs-lookup"><span data-stu-id="a4a71-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="a4a71-124">El rol en la tarea de línea para la tarea 1 es Desarrollador y, para la tarea 2, Administrador de programas.</span><span class="sxs-lookup"><span data-stu-id="a4a71-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="a4a71-125">Carmen Linares tiene el rol predeterminado de Administrador del programa.</span><span class="sxs-lookup"><span data-stu-id="a4a71-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Varios roles asignados a un recurso](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="a4a71-127">Debido a que los roles de Desarrollador y Administrador del programa son diferentes, las estimaciones de costes y ventas son las siguientes:</span><span class="sxs-lookup"><span data-stu-id="a4a71-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimaciones de costes para roles de recursos](media/upggrade-cost-estimates-03.png)

![Estimaciones de ventas para roles de recursos](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="a4a71-130">Cuando actualiza a la versión 3, las tareas de línea se reemplazan por asignaciones de recursos en la tarea del miembro del equipo de recursos que se puede reservar.</span><span class="sxs-lookup"><span data-stu-id="a4a71-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="a4a71-131">La asignación utilizará el rol predeterminado del recurso que se puede reservar.</span><span class="sxs-lookup"><span data-stu-id="a4a71-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="a4a71-132">En el siguiente gráfico, Carmen Linares, que tiene un rol de Administrador del programa, es el recurso.</span><span class="sxs-lookup"><span data-stu-id="a4a71-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Asignaciones de recursos](media/resource-assignment-v2-05.png)

<span data-ttu-id="a4a71-134">Debido a que las estimaciones se basan en el rol predeterminado del recurso, las estimaciones de ventas y costes pueden cambiar.</span><span class="sxs-lookup"><span data-stu-id="a4a71-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="a4a71-135">Tenga en cuenta que en el siguiente gráfico, ya no verá el rol **Desarrollador**, ya que el rol ahora se toma del rol predeterminado del recurso que se puede reservar.</span><span class="sxs-lookup"><span data-stu-id="a4a71-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="a4a71-136">![Estimaciones de costes para roles predeterminados.](media/resource-assignment-cost-estimate-06.png)
![Estimación de ventas para roles predeterminados](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="a4a71-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="a4a71-137">Una vez completada la actualización, puede editar el rol de un miembro del equipo para que sea distinto del predeterminado asignado.</span><span class="sxs-lookup"><span data-stu-id="a4a71-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="a4a71-138">Sin embargo, si cambia el rol de un miembro del equipo, se cambiará en todas sus tareas asignadas porque a los miembros del equipo ya no se les permite asignar varios roles en la versión 3.</span><span class="sxs-lookup"><span data-stu-id="a4a71-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Actualización de un rol de recurso](media/resource-role-assignment-08.png)

<span data-ttu-id="a4a71-140">Esto también se cumple con las tareas de línea que se asignaron a recursos con nombre cuando cambia la unidad organizativa del recurso de la predeterminada a otra unidad organizativa.</span><span class="sxs-lookup"><span data-stu-id="a4a71-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="a4a71-141">Una vez completada la actualización de la versión 3, la asignación utilizará la unidad organizativa predeterminada del recurso en lugar de la establecida en la tarea de línea.</span><span class="sxs-lookup"><span data-stu-id="a4a71-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="a4a71-142">Tareas asignadas a recursos genéricos</span><span class="sxs-lookup"><span data-stu-id="a4a71-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="a4a71-143">En la versión 2 y la versión 1, puede establecer el rol y la unidad organizativa en una tarea y luego usar la característica **Generar equipo** para generar recursos genéricos basados en los atributos establecidos en la tarea.</span><span class="sxs-lookup"><span data-stu-id="a4a71-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="a4a71-144">En la versión 3, cree los miembros genéricos del equipo con rol y unidad organizativa y, a continuación, asigne los miembros del equipo a las tareas.</span><span class="sxs-lookup"><span data-stu-id="a4a71-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="a4a71-145">En la versión 2 y 1, los proyectos con recursos genéricos pueden estar en dos estados, o una combinación de ambos a nivel de tarea. Por ejemplo, puede tener los siguientes escenarios.</span><span class="sxs-lookup"><span data-stu-id="a4a71-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="a4a71-146">Por ejemplo, pueden darse los siguientes escenarios:</span><span class="sxs-lookup"><span data-stu-id="a4a71-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="a4a71-147">Tareas con roles y unidades organizativas establecidas, pero sin que se genere ninguna asignación de recursos afiliados.</span><span class="sxs-lookup"><span data-stu-id="a4a71-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="a4a71-148">Tareas con asignaciones de recursos de miembros de equipo genéricos que se asignaron creando recursos genéricos mediante la característica **Generar equipo**.</span><span class="sxs-lookup"><span data-stu-id="a4a71-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="a4a71-149">Antes de comenzar con la actualización, le recomendamos que vuelva a generar el equipo para cada proyecto que tenga tareas asignadas a recursos genéricos o que no haya ejecutado aún el proceso de generación de equipo en ellos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="a4a71-150">Para las tareas asignadas a los miembros genéricos del equipo que se generaron con **Generar equipo**, la actualización dejará el recurso genérico en el equipo y la asignación a ese miembro genérico del equipo.</span><span class="sxs-lookup"><span data-stu-id="a4a71-150">For tasks that are assigned to generic team members that were generated with **Generate Team**, the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="a4a71-151">Le recomendamos que genere los requisitos de recursos para el miembro del equipo genérico después de la actualización, pero antes de reservar o enviar una solicitud de recursos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="a4a71-152">Esto conservará cualquier asignación de unidad organizativa en los miembros genéricos del equipo que sea diferente de la unidad organizativa contratante del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a4a71-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="a4a71-153">Por ejemplo, en el proyecto Project Z, la unidad organizativa contratante es Contoso Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="a4a71-154">En el plan del proyecto, a las tareas de prueba dentro de la fase de Implementación se les ha asignado el rol de Consultor técnico y la unidad organizativa asignada es Contoso India.</span><span class="sxs-lookup"><span data-stu-id="a4a71-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Asignación de la organización de la fase de implementación](media/org-unit-assignment-09.png)

<span data-ttu-id="a4a71-156">Después de la fase de implementación, la tarea de prueba de integración se asigna al rol de Consultor técnico, pero la organización se establece en Contoso Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Asignación de organización de tarea de prueba de integración](media/org-unit-generate-team-10.png)

<span data-ttu-id="a4a71-158">Cuando genere un equipo para el proyecto, se crearán dos miembros genéricos del equipo debido a las diferentes unidades organizativas en las tareas.</span><span class="sxs-lookup"><span data-stu-id="a4a71-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="a4a71-159">El consultor técnico 1 tendrá asignadas las tareas de Contoso India y el consultor técnico 2 tendrá las tareas de Contoso Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Miembros del equipo genéricos generados](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="a4a71-161">En la versión 2 y 1 de Project Service Automation, el miembro del equipo no posee la unidad organizativa, que se mantiene en la tarea de línea.</span><span class="sxs-lookup"><span data-stu-id="a4a71-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Tareas de línea de versión 2 y 1 en Project Service Automation](media/line-tasks-12.png)

<span data-ttu-id="a4a71-163">Puede ver la unidad organizativa en la vista de estimaciones.</span><span class="sxs-lookup"><span data-stu-id="a4a71-163">You can see the organization unit on the estimates view.</span></span> 

![Estimaciones de unidad organizativa](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="a4a71-165">Cuando se completa la actualización, la unidad de organización en la tarea de línea que corresponde al miembro del equipo genérico se agrega al miembro del equipo genérico y se elimina la tarea de línea.</span><span class="sxs-lookup"><span data-stu-id="a4a71-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="a4a71-166">Por eso, recomendamos que antes de actualizar, genere o vuelva a generar el equipo en cada proyecto que contenga recursos genéricos.</span><span class="sxs-lookup"><span data-stu-id="a4a71-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="a4a71-167">Para las tareas que se asignan a un rol con una unidad organizativa distinta de la unidad organizativa del proyecto contratante, y sin un equipo, generado la actualización creará un miembro genérico del equipo para el rol, pero utilizará la unidad contratante del proyecto para la unidad organizativa del miembro del equipo.</span><span class="sxs-lookup"><span data-stu-id="a4a71-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="a4a71-168">Volviendo al ejemplo con el Proyecto Z, esto significa que la unidad organizativa contratante Contoso Estados Unidos, y las tareas de prueba del plan del proyecto dentro de la fase de implementación tienen asignado el rol de Consultor técnico con la unidad organizativa asignada a Contoso India.</span><span class="sxs-lookup"><span data-stu-id="a4a71-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="a4a71-169">La tarea de prueba de integración que se completa después de la fase de implementación se ha asignado al rol de Consultor técnico.</span><span class="sxs-lookup"><span data-stu-id="a4a71-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="a4a71-170">La unidad organizativa es Contoso Estados Unidos y no se ha generado un equipo.</span><span class="sxs-lookup"><span data-stu-id="a4a71-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="a4a71-171">La actualización creará un miembro genérico del equipo, un consultor técnico que tendrá las horas asignadas de las tres tareas y una unidad organizativa de Contoso Estados Unidos, la unidad organizativa contratante del proyecto.</span><span class="sxs-lookup"><span data-stu-id="a4a71-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="a4a71-172">El cambio del valor predeterminado de las diferentes unidades organizativas de recursos en los miembros del equipo no generados es la razón por la que recomendamos que genere o vuelva a generar el equipo en cada proyecto que contenga recursos genéricos antes de la actualización de manera que las asignaciones de unidades organizativas no se pierdan.</span><span class="sxs-lookup"><span data-stu-id="a4a71-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

