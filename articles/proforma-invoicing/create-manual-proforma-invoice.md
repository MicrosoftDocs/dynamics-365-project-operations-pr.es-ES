---
title: Facturas proforma
description: Este tema proporciona información sobre las facturas proforma en Project Operations.
author: rumant
manager: AnnBe
ms.date: 04/05/2021
ms.topic: article
ms.prod: ''
ms.service: project-operations
ms.reviewer: kfend
ms.author: rumant
ms.openlocfilehash: b143ba286f25ecb23fea09a85bca06543f7f55ff
ms.sourcegitcommit: ca0fc078d1a12484eca193fe051b8442c0559db8
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 04/07/2021
ms.locfileid: "5866882"
---
# <a name="proforma-invoices"></a><span data-ttu-id="6f4d0-103">Facturas proforma</span><span class="sxs-lookup"><span data-stu-id="6f4d0-103">Proforma invoices</span></span>

<span data-ttu-id="6f4d0-104">_**Se aplica a:** Project Operations para escenarios basados en recursos/no en existencias_</span><span class="sxs-lookup"><span data-stu-id="6f4d0-104">_**Applies To:** Project Operations for resource/non-stocked based scenarios_</span></span>

<span data-ttu-id="6f4d0-105">La facturación proforma proporciona a los jefes de proyecto un segundo nivel de aprobación antes de crear las facturas para los clientes.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-105">Proforma invoicing gives project managers a second level of approval before they create invoices for customers.</span></span> <span data-ttu-id="6f4d0-106">El primer nivel de aprobación se completa cuando se aprueban las entradas de tiempo, gastos y material que envían los miembros del proyecto.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-106">The first level of approval is completed when time, expense, and material entries that project team members submit are approved.</span></span> <span data-ttu-id="6f4d0-107">Las facturas proforma confirmadas están disponibles en el módulo Contabilidad de proyectos de Project Operations.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-107">Confirmed proforma invoices are available in the Project Accounting module of Project Operations.</span></span> <span data-ttu-id="6f4d0-108">Los contables de proyectos pueden realizar actualizaciones adicionales, como impuestos sobre las ventas, contabilidad y diseño de facturas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-108">Project accountants can perform additional updates such as sales tax, accounting, and invoice layout.</span></span>


## <a name="creating-project-invoices"></a><span data-ttu-id="6f4d0-109">Creación de facturas de proyecto</span><span class="sxs-lookup"><span data-stu-id="6f4d0-109">Creating project invoices</span></span>

<span data-ttu-id="6f4d0-110">Las facturas de proyecto se pueden de una en una o de forma masiva.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-110">Project invoices can be created one at a time or in bulk.</span></span> <span data-ttu-id="6f4d0-111">Puede crearlas manualmente, o bien se pueden configurar para que se generen de forma automática.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-111">You can create them manually, or they can be configured so that they are generated in automated runs.</span></span>

### <a name="manually-create-project-invoices"></a><span data-ttu-id="6f4d0-112">Crear facturas de proyecto manualmente</span><span class="sxs-lookup"><span data-stu-id="6f4d0-112">Manually create project invoices</span></span> 

<span data-ttu-id="6f4d0-113">En la página lista **Contratos de proyecto**, podrá crear facturas de proyecto por separado para cada contrato de proyecto, o bien puede crear facturas de forma masiva para varios contratos de proyecto.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-113">From the **Project Contracts** list page, you can create project invoices separately for each project contract, or you can create invoices in bulk for multiple project contracts.</span></span>

<span data-ttu-id="6f4d0-114">Siga este paso para crear una factura para un contrato de proyecto específico.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-114">Follow this step to create an invoice for a specific project contract.</span></span>

- <span data-ttu-id="6f4d0-115">En la página de lista **Contratos de proyecto**, abra un contrato de proyecto y después seleccione **Crear factura**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-115">On the **Project Contracts** list page, open a project contract, and then select **Create Invoice**.</span></span>

    <span data-ttu-id="6f4d0-116">El sistema genera una factura para todas las transacciones del contrato de proyecto seleccionado que tienen el estado **Listo para facturar**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-116">An invoice is generated for all transactions for the selected project contract that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="6f4d0-117">Estas transacciones incluyen tiempo, gastos, materiales, hitos y otras líneas del diario de ventas no facturadas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-117">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

<span data-ttu-id="6f4d0-118">Siga estos pasos para crear facturas de forma masiva.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-118">Follow these steps to create invoices in bulk.</span></span>

1. <span data-ttu-id="6f4d0-119">En la página de lista **Contratos de proyecto**, seleccione uno o varios contratos de proyecto para los que desee crear una factura y después seleccione **Crear facturas de proyecto**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-119">On the **Project Contracts** list page, select one or more project contracts that you must create an invoice for, and then select **Create Project Invoices**.</span></span>

    <span data-ttu-id="6f4d0-120">Un mensaje de advertencia le informará de que es posible que haya un retraso antes de que se creen las facturas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-120">A warning message informs you that there might be a delay before invoices are created.</span></span> <span data-ttu-id="6f4d0-121">También se muestra el proceso.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-121">The process is also shown.</span></span>

2. <span data-ttu-id="6f4d0-122">Seleccione **Aceptar** para cerrar el cuadro del mensaje.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-122">Select **OK** to close the message box.</span></span>

    <span data-ttu-id="6f4d0-123">El sistema genera una factura para todas las transacciones de una línea de contrato con el estado **Listo para facturar**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-123">An invoice is generated for all transactions on a contract line that have a status of **Ready to Invoice**.</span></span> <span data-ttu-id="6f4d0-124">Estas transacciones incluyen tiempo, gastos, materiales, hitos y otras líneas del diario de ventas no facturadas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-124">These transactions include time, expenses, materials, milestones, and other unbilled sales journal lines.</span></span>

3. <span data-ttu-id="6f4d0-125">Para ver las facturas que se generan, vaya a **Ventas** \> **Facturación** \> **Facturas**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-125">To view the invoices that are generated, go to **Sales** \> **Billing** \> **Invoices**.</span></span> <span data-ttu-id="6f4d0-126">Se mostrará una factura para cada contrato de proyecto.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-126">You will see one invoice for each project contract.</span></span>

### <a name="set-up-automated-creation-of-project-invoices"></a><span data-ttu-id="6f4d0-127">Configurar la creación automática de facturas de proyecto</span><span class="sxs-lookup"><span data-stu-id="6f4d0-127">Set up automated creation of project invoices</span></span> 

<span data-ttu-id="6f4d0-128">Siga estos pasos para configurar la ejecución automática de facturas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-128">Follow these steps to configure an automated invoice run.</span></span>

1. <span data-ttu-id="6f4d0-129">Vaya a **Configuración** \> **Trabajos por lotes**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-129">Go to **Settings** \> **Batch jobs**.</span></span>
2. <span data-ttu-id="6f4d0-130">Cree un trabajo por lotes y asígnele el nombre **Creación de facturas de Project Operations**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-130">Create a batch job, and name it **Project Operations Create Invoices**.</span></span> <span data-ttu-id="6f4d0-131">El nombre del trabajo por lotes debe incluir el término "Creación de facturas".</span><span class="sxs-lookup"><span data-stu-id="6f4d0-131">The name of the batch job must include the term "Create Invoices."</span></span>
3. <span data-ttu-id="6f4d0-132">En el campo **Tipo de trabajo**, seleccione **Ninguno**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-132">In the **Job type** field, select **None**.</span></span> <span data-ttu-id="6f4d0-133">De forma predeterminada, las opciones **Frecuencia diaria** y **Está activo** están configuradas con el valor **Sí**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-133">By default, the **Frequency Daily** and **Is Active** options are set to **Yes**.</span></span>
4. <span data-ttu-id="6f4d0-134">Seleccione **Ejecutar flujo de trabajo**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-134">Select **Run Workflow**.</span></span> <span data-ttu-id="6f4d0-135">En el cuadro de diálogo **Buscar registros**, se mostrarán tres flujos de trabajo:</span><span class="sxs-lookup"><span data-stu-id="6f4d0-135">In the **Look Up Record** dialog box, you will see three workflows:</span></span>

    - <span data-ttu-id="6f4d0-136">ProcessRunCaller</span><span class="sxs-lookup"><span data-stu-id="6f4d0-136">ProcessRunCaller</span></span>
    - <span data-ttu-id="6f4d0-137">ProcessRunner</span><span class="sxs-lookup"><span data-stu-id="6f4d0-137">ProcessRunner</span></span>
    - <span data-ttu-id="6f4d0-138">UpdateRoleUtilization</span><span class="sxs-lookup"><span data-stu-id="6f4d0-138">UpdateRoleUtilization</span></span>

5. <span data-ttu-id="6f4d0-139">Seleccione **ProcessRunCaller** y después seleccione **Agregar**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-139">Select **ProcessRunCaller**, and then select **Add**.</span></span>
6. <span data-ttu-id="6f4d0-140">En el siguiente cuadro de diálogo, seleccione **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-140">In the next dialog box, select **OK**.</span></span> <span data-ttu-id="6f4d0-141">El flujo de trabajo **Reposo** va seguido de un flujo de trabajo **Proceso**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-141">A **Sleep** workflow is followed by a **Process** workflow.</span></span>

    <span data-ttu-id="6f4d0-142">También puede seleccionar **ProcessRunner** en el paso 5.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-142">You can also select **ProcessRunner** in step 5.</span></span> <span data-ttu-id="6f4d0-143">A continuación, cuando se selecciona **Aceptar**, el flujo de trabajo **Proceso** va seguido del flujo de trabajo **Reposo**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-143">Then, when you select **OK**, a **Process** workflow is followed by a **Sleep** workflow.</span></span>

<span data-ttu-id="6f4d0-144">Los flujos de trabajo **ProcessRunCaller** y **ProcessRunner** crean facturas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-144">The **ProcessRunCaller** and **ProcessRunner** workflows create invoices.</span></span> <span data-ttu-id="6f4d0-145">**ProcessRunCaller** llama a **ProcessRunner**.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-145">**ProcessRunCaller** calls **ProcessRunner**.</span></span> <span data-ttu-id="6f4d0-146">**ProcessRunner** es el flujo de trabajo que crea realmente las facturas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-146">**ProcessRunner** is the workflow that actually creates the invoices.</span></span> <span data-ttu-id="6f4d0-147">Pasa por todas las líneas de contrato para las que se deben crear facturas y crea las facturas para dichas líneas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-147">It goes through all the contract lines that invoices must be created for, and it creates invoices for those lines.</span></span> <span data-ttu-id="6f4d0-148">Para determinar las líneas de contrato para las que se deben crear facturas, el trabajo busca fechas de ejecución de facturas para las líneas de contrato.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-148">To determine the contract lines that invoices must be created for, the job looks at invoice run dates for the contract lines.</span></span> <span data-ttu-id="6f4d0-149">Si hay líneas de contrato que pertenecen a un contrato que tiene la misma fecha de ejecución de factura, las transacciones se combinarán en una factura con dos líneas de factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-149">If contract lines that belong to one contract have the same invoice run date, the transactions are combined into one invoice that has two invoice lines.</span></span> <span data-ttu-id="6f4d0-150">Si no hay transacciones para crear facturas, el trabajo omite la creación de factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-150">If there are no transactions to create invoices for, the job skips invoice creation.</span></span>

<span data-ttu-id="6f4d0-151">Cuando finaliza la ejecución de **ProcessRunner**, se llama al flujo de trabajo **ProcessRunCaller**, que proporciona la hora de finalización y después se cierra.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-151">After **ProcessRunner** has finished running, it calls **ProcessRunCaller**, provides the end time, and is closed.</span></span> <span data-ttu-id="6f4d0-152">A continuación, **ProcessRunCaller** pone en marcha un temporizador que se ejecuta durante 24 horas desde la hora de finalización especificada.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-152">**ProcessRunCaller** then starts a timer that runs for 24 hours from the specified end time.</span></span> <span data-ttu-id="6f4d0-153">Cuando se agota el tiempo del temporizador, el flujo de trabajo **ProcessRunCaller** se cierra.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-153">At the end of the timer, **ProcessRunCaller** is closed.</span></span>

<span data-ttu-id="6f4d0-154">El trabajo del proceso por lotes para la creación de facturas es un trabajo recurrente.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-154">The batch process job for creating invoices is a recurrent job.</span></span> <span data-ttu-id="6f4d0-155">Si este proceso por lotes se ejecuta muchas veces, se crean varias instancias del trabajo y se generan errores.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-155">If this batch process is run many times, multiple instances of the job are created and cause errors.</span></span> <span data-ttu-id="6f4d0-156">Por lo tanto, debe iniciar el proceso por lotes solo una vez y debe reiniciarlo solo si se detiene su ejecución.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-156">Therefore, you should start the batch process only one time, and you should restart it only if it stops running.</span></span>

> [!NOTE]
> <span data-ttu-id="6f4d0-157">La facturación por lotes solo se ejecuta para las líneas de contrato del proyecto que se configuran mediante programas de facturación.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-157">Batch invoicing only runs for project contract lines that are configured by invoice schedules.</span></span> <span data-ttu-id="6f4d0-158">Una línea de contrato con un método de facturación de precio fijo debe tener hitos configurados.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-158">A contract line with a fixed price billing method must have milestones configured.</span></span> <span data-ttu-id="6f4d0-159">Una línea de contrato de proyecto con un método de facturación de tiempo y material necesitará una programación de facturación basada en fecha.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-159">A project contract line with a time and material billing method will need a date-based invoice schedule set up.</span></span> <span data-ttu-id="6f4d0-160">Lo mismo se aplica a una línea de contrato basada en proyectos.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-160">The same applies to a project-based contract line.</span></span>      
 
### <a name="edit-a-draft-invoice"></a><span data-ttu-id="6f4d0-161">Editar un borrador de factura</span><span class="sxs-lookup"><span data-stu-id="6f4d0-161">Edit a draft invoice</span></span>

<span data-ttu-id="6f4d0-162">Cuando se crea un borrador de factura de proyecto, todas las transacciones de venta sin facturar que se crearon cuando se aprobaron las entradas de tiempo, gastos y utilización de material se incluyen en la factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-162">When you create a draft project invoice, all unbilled sales transactions that were created when the time, expense, and material usage entries were approved are pulled onto the invoice.</span></span> <span data-ttu-id="6f4d0-163">Puede realizar los siguientes ajustes mientras facturación aún está en fase de borrador:</span><span class="sxs-lookup"><span data-stu-id="6f4d0-163">You can make the following adjustments while the invoice is still in a draft stage:</span></span>

- <span data-ttu-id="6f4d0-164">Eliminar o editar los detalles de la línea de factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-164">Delete or edit invoice line details.</span></span>
- <span data-ttu-id="6f4d0-165">Editar y ajustar la cantidad y el tipo de facturación.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-165">Edit and adjust the quantity and billing type.</span></span>

<span data-ttu-id="6f4d0-166">Seleccione **Confirmar** para confirmar una factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-166">Select **Confirm** to confirm an invoice.</span></span> <span data-ttu-id="6f4d0-167">La acción Confirmar es una acción unidireccional.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-167">The Confirm action is a one-way action.</span></span> <span data-ttu-id="6f4d0-168">Cuando se selecciona **Confirmar**, el sistema convierte la factura en factura de solo lectura y crea datos reales de ventas facturadas de todos los detalles de cada línea de factura.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-168">When you select **Confirm**, the system makes the invoice read-only and creates billed sales actuals from each invoice line detail for each invoice line.</span></span> <span data-ttu-id="6f4d0-169">Si el detalle de la línea de factura hace referencia a un dato real de ventas sin facturar, el sistema también revierte el dato real de ventas sin facturar.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-169">If the invoice line detail references an unbilled sales actual, the system also reverses the unbilled sales actual.</span></span> <span data-ttu-id="6f4d0-170">(Los detalles de línea de factura que se crearon a partir de una entrada de tiempo o gasto harán referencia a un dato real de ventas sin facturar.) Los sistemas de integración de contabilidad general pueden usar esta reversión para revertir trabajo de un proyecto en proceso (WIP) con propósitos de contabilidad.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-170">(Any invoice line detail that was created from a time or expense entry will reference an unbilled sales actual.) General ledger integration systems can use this reversal to reverse project work in progress (WIP) for accounting purposes.</span></span>

### <a name="correct-a-confirmed-invoice"></a><span data-ttu-id="6f4d0-171">Corregir una factura confirmada</span><span class="sxs-lookup"><span data-stu-id="6f4d0-171">Correct a confirmed invoice</span></span>

<span data-ttu-id="6f4d0-172">Las facturas confirmadas se pueden editar (corregir).</span><span class="sxs-lookup"><span data-stu-id="6f4d0-172">Confirmed invoices can be edited (corrected).</span></span> <span data-ttu-id="6f4d0-173">Cuando se corrige una factura confirmada, se crea un nuevo borrador de factura correctiva.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-173">When you correct a confirmed invoice, a new draft corrective invoice is created.</span></span> <span data-ttu-id="6f4d0-174">Puesto que se da por sentado que desea revertir todas las transacciones y las cantidades de factura original, esta factura correctiva incluye todas las transacciones de la factura original y todas sus cantidades son iguales a 0 (cero).</span><span class="sxs-lookup"><span data-stu-id="6f4d0-174">Because the assumption is that you want to reverse all the transactions and quantities from the original invoice, this corrective invoice includes all the transactions from the original invoice, and all the quantities on it are 0 (zero).</span></span>

<span data-ttu-id="6f4d0-175">Si alguna transacción no requiere corrección, puede quitarla del borrador de la factura correctiva.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-175">If any transactions don't require correction, you can remove them from the draft corrective invoice.</span></span> <span data-ttu-id="6f4d0-176">Si desea revertir o devolver solo una cantidad parcial, puede editar el campo **Cantidad** en el detalle de la línea.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-176">If you want to reverse or return only a partial quantity, you can edit the **Quantity** field on the line detail.</span></span> <span data-ttu-id="6f4d0-177">Si abre el detalle de la línea de factura, podrá ver la cantidad de la factura original.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-177">If you open the invoice line detail, you can see the original invoice quantity.</span></span> <span data-ttu-id="6f4d0-178">A continuación, podrá editar la cantidad de la factura actual para que sea superior o inferior a la cantidad de la factura original.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-178">You can then edit the current invoice quantity so that it's less than or more than the original invoice quantity.</span></span>

<span data-ttu-id="6f4d0-179">Cuando se confirma una factura correctiva, el dato real de ventas facturadas originales se revierte y se crea un nuevo dato real de ventas facturadas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-179">When you confirm a corrective invoice, the original billed sales actual is reversed, and a new billed sales actual is created.</span></span> <span data-ttu-id="6f4d0-180">Si la cantidad se redujo, la diferencia también generará un nuevo dato real de ventas sin facturar.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-180">If the quantity was reduced, the difference will cause a new unbilled sales actual to be created too.</span></span> <span data-ttu-id="6f4d0-181">Por ejemplo, si la venta facturada original ascendía a ocho horas y el detalle de línea de factura correctiva tenía una cantidad reducida de seis horas, se revierte la línea de ventas facturadas originales y se crean dos nuevos datos reales:</span><span class="sxs-lookup"><span data-stu-id="6f4d0-181">For example, if the original billed sale was for eight hours, and the corrective invoice line detail has a reduced quantity of six hours, the original billed sales line is reversed and two new actuals are created:</span></span>

- <span data-ttu-id="6f4d0-182">Un dato real de ventas facturadas por seis horas.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-182">A billed sales actual for six hours.</span></span>
- <span data-ttu-id="6f4d0-183">Un dato real de ventas sin facturar por las dos horas restantes.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-183">An unbilled sales actual for the remaining two hours.</span></span> <span data-ttu-id="6f4d0-184">Esta transacción se puede facturar más adelante o se puede marcar como no imputable, en función de las negociaciones con el cliente.</span><span class="sxs-lookup"><span data-stu-id="6f4d0-184">This transaction can either be billed later or marked as non-chargeable, depending on the negotiations with the customer.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
